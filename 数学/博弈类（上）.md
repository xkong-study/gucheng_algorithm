<img width="603" alt="Screenshot 2025-04-16 at 12 56 49" src="https://github.com/user-attachments/assets/ca96be78-a36e-47c6-be81-9d2ddd04ec21" />


**Bash Game**


**Formula**


If n % (m + 1) === 0, then the first move will lose, otherwise the first move will win.


# 巴什博弈（Bash Game）数学证明

## 问题定义

> 给定一堆石子数 `n`，每次可以取 `1` 到 `m` 个石子，两人轮流取，谁取光最后一个石子谁赢。

---

## 结论

> 若 `n % (m + 1) === 0`，则先手必败；否则先手必胜。

---

## 状态定义

- `P`（必败态）：当前人无论怎么取都会输
- `N`（必胜态）：当前人有策略能达成胜利

---

## 数学证明

### Step 1：证明 `n ≡ 0 \mod (m+1)` 是必败态

设：
```
n = (m + 1) * k
```

任意操作 `x ∈ [1, m]`，取完后：
```
n' = n - x = (m + 1) * k - x
       ≡ -x (mod m+1) ≠ 0
```

说明对手总是进入 `必胜态`，所以当前是 `必败态（P）`。

---

### Step 2：证明 `n ≠ 0 \mod (m+1)` 是必胜态

设：
```
n = (m + 1) * k + r，1 ≤ r ≤ m
```

我们只需要取 `x = r`，使对手进入必败态：
```
n' = n - r = (m + 1) * k
        ≡ 0 ≥ 必败态
```

说明当前人有策略使对手进入 `P`，所以是 `必胜态`。

---

## 处理规则

- 如果 `n % (m+1) == 0`，先手必败
- 否则，先手必胜，取 `n % (m+1)` 个石子

---

## 应用

- 解 LeetCode 博弈类相关题目
- 应用在约翰梯、石子堆、抽检等博弈环节


# 尼姆博弈（Nim Game）结论   

>  若所有石堆的异或和为 0，当前选手必败；否则必赢。   
---

