## 适合：题目要求具有单调性+位置索引。 

<img width="402" alt="截屏2024-02-20 22 19 56" src="https://github.com/xkong-study/gucheng_algorithm/assets/100473178/e45c61f2-ee32-40ed-afe5-09f73f24b696">



## 1. 维护元素的单调顺序
性质：单调栈通过仅允许以单调递增或递减的顺序添加元素来维持栈内元素的单调性。这意味着在任何时候，栈底到栈顶的元素都是有序的（根据问题的需要，可以是递增或递减）。    

应用：这使得单调栈特别适合解决寻找元素左侧或右侧第一个更大或更小元素的问题，因为栈的单调性保证了每次我们查找这样的元素时，可以直接利用栈顶元素或通过简单的出栈操作快速找到答案。    

## 2.几何特性          
面积与容积的计算：通过确定元素的界限，我们可以直接计算由这些界限定义的几何形状的面积或容积，如直方图中的矩形面积或由柱子形成的容器中的水量。        

```code
function monotonicStack(nums) {
    let res = new Array(nums.length).fill(-1); // 初始化结果数组
    let stack = []; // 单调栈

    for (let i = 0; i < nums.length; i++) {
        // 当栈不为空，且当前元素大于栈顶元素时
        while (stack.length && nums[i] > nums[stack[stack.length - 1]]) {
            let j = stack.pop(); // 弹出栈顶元素
            res[j] = nums[i]; // 记录结果
        }
        stack.push(i); // 将当前元素索引入栈
    }

    return res;
}

let nums = [2, 1, 2, 4, 3];
console.log(monotonicStack(nums)); // 输出：[4, 2, 4, -1, -1]

```

单调栈在解决问题时，通常涉及两个核心思考角度：       

栈的单调性如何满足题目要求：单调栈的特点是保持栈内元素的单调递增或递减性质，这一性质如何帮助解决具体问题是设计算法时的关键。通过维持这种单调性，可以解决一系列问题，如寻找数组中元素的下一个更大（或更小）元素，或者，如你提到的例子，移除特定数量的数字以形成最小的数。栈的这种单调性确保了我们可以有效地解决问题，因为它直接关联到问题的核心要求。          

栈内元素和弹出的元素的现实意义：单调栈不仅仅是存储数据的结构，栈内保持的元素和弹出的元素都具有特定的现实意义。在栈内的元素代表了当前问题解决过程中的有效候选，而弹出的元素则代表了为了保持单调性或满足题目要求而必须舍弃的数据。这种弹出动作反映了算法对问题约束的处理，如在移除数字形成最小数的问题中，弹出的是为了保持结果的最小性而必须移除的较大数字。           

 
