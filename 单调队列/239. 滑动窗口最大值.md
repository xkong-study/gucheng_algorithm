![截屏2024-02-14 21.01.20.png](https://img.xwyue.com/i/2024/02/15/65cd2aeb61cb7.png)

单调队列套路     

入（元素进入队尾，同时维护队列单调性）     
出（元素离开队首）   
记录/维护答案（根据队首）    

```code
var maxSlidingWindow = function(nums, k) {
let deque = [];
let ans = [];
for(let i=0;i<nums.length;i++){
    while(deque.length!=0 && nums[deque[deque.length-1]]<nums[i]){
        deque.pop();
    }
    deque.push(i);
    if(i-deque[0]>=k){
        deque.unshift();
    }
    if(i>=k-1){
        ans.push(nums[deque[0]]);
    }
}
return ans;
};
```
deque记录当前的最大数的索引
