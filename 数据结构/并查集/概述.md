<img width="863" alt="截屏2024-03-13 20 54 14" src="https://github.com/xkong-study/gucheng_algorithm/assets/100473178/634460fd-757a-44bd-b4da-186d721627a6">

<img width="869" alt="截屏2024-03-13 21 00 57" src="https://github.com/xkong-study/gucheng_algorithm/assets/100473178/c60088ca-6d4f-458d-bc26-aaa217758afa">

<img width="795" alt="截屏2024-03-13 21 35 55" src="https://github.com/xkong-study/gucheng_algorithm/assets/100473178/496868eb-cf0e-4b76-9f68-a7f5106dd4fe">

<img width="816" alt="截屏2024-03-13 21 46 48" src="https://github.com/xkong-study/gucheng_algorithm/assets/100473178/b04b1222-d84a-427d-8b6b-0da8714b4f13">

简单总结：   
1.找祖先。find         
2.合并祖先。union           
3.初始化祖先（祖先是自己）。init    
4.压缩路径（链条=》n叉树）。      


图的连通性问题：在解决图的连通性问题时，经常会使用并查集。例如，在解决网络连接问题、社交网络关系问题等场景中，需要判断两个节点是否在同一个连通分量中。路径压缩可以加速查找根节点的过程，从而提高解决问题的效率。      

最小生成树算法：在 Kruskal 算法等最小生成树算法中，经常需要使用并查集来判断两个节点是否在同一个连通分量中。路径压缩可以优化并查集的性能，加速算法的执行过程。     

动态连通性问题：在解决动态连通性问题时，经常需要使用并查集。例如，处理网络通信中节点的动态加入和退出、网络路由中节点的动态变化等场景，需要实时判断节点之间的连接情况。路径压缩可以提高并查集的查找性能，加速动态连通性问题的解决。       



```code
class DisjointSetUnion {
    constructor(n) {
       // 初始时每个节点的父节点为自己
       this.parent = [];
       for(let i = 0; i < n; i++){
          this.parent[i] = i;
       } 
       this.rank = Array(n).fill(0); // 记录树的深度，用于优化合并操作
    }

    find(x) {
        if (this.parent[x] !== x) {
            this.parent[x] = this.find(this.parent[x]); // 路径压缩
        }
        return this.parent[x];
    }

    union(x, y) {
        let rootX = this.find(x);
        let rootY = this.find(y);

        if (rootX === rootY) {
            return; // 已经在同一个集合中，无需合并
        }

        // 按秩合并，即将深度较小的树合并到深度较大的树上
        if (this.rank[rootX] < this.rank[rootY]) {
            this.parent[rootX] = rootY;
        } else if (this.rank[rootX] > this.rank[rootY]) {
            this.parent[rootY] = rootX;
        } else {
            this.parent[rootY] = rootX;
            this.rank[rootX]++;
        }
    }

    isConnected(x, y) {
        return this.find(x) === this.find(y); // 判断两个节点是否在同一个集合中
    }
}

```
